# MOC-IoT Technical Documentation

Internal technical documentation for the MOC-IoT device tracking system - a comprehensive IoT ecosystem for monitoring NB-IoT connected devices via cellular networks.

## Technology Stack

**Communication**: CoAP (UDP:5683), Protocol Buffers, HMAC-SHA256
**Infrastructure**: Fly.io, Supabase PostgreSQL, NB-IoT/LTE
**Frontend**: React 18, TypeScript, Vite, shadcn-ui, TanStack Query, Leaflet

## Quick Navigation

### Getting Started

- [Quick Start](/development/quick-start) - Get all components running in 10 minutes
- [System Overview](/architecture/system-overview) - Understand the architecture
- [Data Flow](/architecture/data-flow) - See how messages are processed

### Development

- [CoAP Bridge](/development/coap-bridge) - Develop and deploy the Python CoAP server
- [Dashboard](/development/dashboard) - Build and customize the React frontend
- [Database Troubleshooting](/development/database-troubleshooting) - Debug database issues

### Architecture

- [System Overview](/architecture/system-overview) - Components and technology choices
- [Data Flow](/architecture/data-flow) - Message processing sequences
- [Protocol Overview](/architecture/protocol-overview) - CoAP and Protocol Buffers
- [Security Architecture](/architecture/security-architecture) - Security layers and HMAC

### API Reference

- [Edge Function API](/api-reference/edge-function) - Supabase data ingestion endpoint
- [Protocol Messages](/api-reference/protocol-messages) - Complete Protobuf definitions
- [CoAP Endpoints](/api-reference/coap-endpoints) - Device communication API

### Reference Materials

- [Database Schema](/reference/database-schema) - Table structures and relationships
- [Environment Variables](/reference/environment-vars) - Configuration reference

## Documentation Overview

### Architecture Section

**Purpose**: Understand the system design without code
- High-level component descriptions
- Data flow diagrams
- Technology rationale
- Security model

**Best for**: New team members, architecture reviews, system understanding

### Development Section

**Purpose**: Hands-on guides for building and deploying
- Step-by-step setup instructions
- Code examples and best practices
- Deployment procedures
- Troubleshooting guides

**Best for**: Active development, debugging, deployment

### API Reference Section

**Purpose**: Detailed specifications with examples
- Complete API endpoint documentation
- Protocol Buffer message definitions
- Request/response examples
- Authentication details

**Best for**: Integration work, API testing, device communication

### Reference Section

**Purpose**: Quick lookup tables and specifications
- Database schema reference
- Environment variable lists
- Configuration options

**Best for**: Quick lookups during development

## Common Tasks

### I want to...

**...run the dashboard locally**
→ [Quick Start](/development/quick-start) → Dashboard Setup

**...deploy the CoAP bridge**
→ [CoAP Bridge Development](/development/coap-bridge) → Deployment

**...understand how location works**
→ [Data Flow](/architecture/data-flow) → Location Processing

**...debug database issues**
→ [Database Troubleshooting](/development/database-troubleshooting)

**...understand security**
→ [Security Architecture](/architecture/security-architecture)

**...see all database tables**
→ [Database Schema](/reference/database-schema)

**...test the CoAP endpoint**
→ [CoAP Endpoints](/api-reference/coap-endpoints) → Testing Tools

## Documentation Usage Tips

**For Architecture Understanding**:
1. Start with [System Overview](/architecture/system-overview)
2. Review [Data Flow](/architecture/data-flow) diagrams
3. Read [Protocol Overview](/architecture/protocol-overview)

**For New Development**:
1. Follow [Quick Start](/development/quick-start) guide
2. Explore component-specific development guides
3. Reference API docs as needed

**For Integration Work**:
1. Review [Protocol Messages](/api-reference/protocol-messages)
2. Test with [CoAP Endpoints](/api-reference/coap-endpoints)
3. Check [Edge Function API](/api-reference/edge-function) for backend integration

**For Troubleshooting**:
1. Check component-specific development guides
2. Review [Database Troubleshooting](/development/database-troubleshooting)
3. Consult architecture docs for understanding data flow

**Last updated**: November 16, 2024
